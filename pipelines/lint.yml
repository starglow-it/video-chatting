.lint:
  extends:
    - .code-maintainance-base
  stage: lint
  script:
    - echo $CI_MERGE_REQUEST_SOURCE_BRANCH_NAME
    - git config --global user.email $GITLAB_USER_EMAIL
    - git config --global user.name $GITLAB_USER_LOGIN
    - git checkout $CI_MERGE_REQUEST_SOURCE_BRANCH_NAME
    - git reset --hard origin/$CI_MERGE_REQUEST_SOURCE_BRANCH_NAME
    - cd $SERVICE_DIR
    - npm i
    - npm run lint
    - npm run format
    - cd ../
    - git add .
    - git commit -m 'Lint And Fromat $SERVICE_DIR'
    - git push https://${GITLAB_USER_LOGIN}:${RUNNER_PUSH_TOKEN}@s2.git.fora-soft.com/forasoft/theliveoffice.git
  allow_failure: true

Lint Frontend:
  extends:
    - .lint
  variables:
    SERVICE_DIR: frontend-service

Lint Gateway:
  extends:
    - .lint
  variables:
    SERVICE_DIR: gateway-service
